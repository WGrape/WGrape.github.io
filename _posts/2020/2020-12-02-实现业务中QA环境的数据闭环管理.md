---
layout:     post
title:      实现业务中QA环境的数据闭环管理
header-img: /img/post.png
catalog: true
tags:
- Devops
- 设计与实现
---

> 文章内容更新请以 [WGrape GitHub博客 : 实现业务中QA环境的数据闭环管理](https://github.com/WGrape/Blog/issues/223) 为准

### 前言
本文原创，著作权归[WGrape](https://github.com/WGrape)所有，未经授权，严禁转载

# 一、背景
QA环境数据目前存在一个比较明显的问题，只有生产功能，没有销毁功能，导致数据日益增多，数据的不一致性和错误率也随之增多。总之没有形成对数据的良性闭环管理，使得错误数据滋生不断。

# 二、现状
## 1、错误数据滋生
QA同事、RD同事修改QA数据，长期下来，滋生了许多错误的数据。

## 2、错误数据和正确数据掺杂
错误数据滋生的一个致命问题就是，它会散落在数据中，和正确的数据混杂在一起，让你无法分清楚哪些是正确数据哪些是错误数据。

## 3、影响QA测试
上述问题最终都会导致QA环境的数据影响测试效率和效果，无法区分Bug还是数据问题。

# 三、问题
QA目前需要提供一种QA环境数据的闭环管理机制，实现对数据的生产、销毁达到高效管理。

# 四、解决思路
设计一种机制，实现对QA环境数据所有自动化的整合，可以统一生产和统一销毁。

![image](https://user-images.githubusercontent.com/35942268/179388235-a85a83b9-a6b3-46bc-a51a-ef3539b29e7e.png)

# 五、实现原理
数据管理机制暂时分为生产、销毁两部分，生产部分负责统一对自动化进行调度，销毁部分负责对全库的表进行数据截断。

![image](https://user-images.githubusercontent.com/35942268/179388243-65b6ce9a-62df-4114-bf17-b3043a6e6243.png)

# 六、作用价值
## 1、增强QA对数据的管理能力
增强了QA对数据的管理能力，在面对QA环境大量数据的时候，QA有比较丰富的手段去治理，不会被数据牵制，减少被动，或者从被动变为主动

## 2、提升QA测试结果的准确性和效率
有了清洁的数据作为底层支撑，会减少QA很多无用的操作，也增强了测试结果的准确性

## 3、成为核心的数据管理工厂，为整个业务服务
QA的数据管理机制，不再是只为QA测试而存在，而是作为数据管理的核心平台而存在，为整个业务服务。

如开发环境中，RD需要维护管理自己的数据，这时RD就可以借用QA的数据管理服务，或者是直接拉取QA环境的数据
